{% extends 'base.html' %}

{% block content %}

    {% for message in get_flashed_messages() %}
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
    {% endfor %}

    <!-- Delete modal -->
    <div class="modal fade blue-text" id="userDelete" tabindex="-1" aria-labelledby="userDeleteLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="userDeleteLabel">Are you sure...</h5>
                </div>
                <div class="modal-body">
                    <p>...that you want to delete this user account?</p>
                    <p>! This action is irreversible !</p>
                </div>
                <div class="modal-footer text-end">
                    <a href="{{ url_for('delete', id=current_user.id)}}"><img src="../static/images/delete_red.webp" alt="Delete" class="logo"></a>
                    <button type="button" data-bs-dismiss="modal" class="text-end">
                        <img src="{{ url_for('static', filename='images/close.webp') }}" alt="Close" class="delete-button">
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- User Details -->
    <div class="row">
        <!-- User Name -->
        <div class="col-11">
            <p class="text-start"><strong>Name: </strong>{{ current_user.name }}</p>
        </div>
    </div>
    <!-- User Username -->
    <div class="row">
        <div class="col-11">
            <p class="text-start"><strong>Username: </strong>{{ current_user.username }}</p>
        </div>
    </div>
    <!-- User Email -->
    <div class="row">
        <div class="col-11">
            <p class="text-start"><strong>Email: </strong>{{ current_user.email }}</p>
        </div>
        <div class="col-1">
        </div>
    </div>
    <!-- Buttons -->
    <div class="row ">
        <div class="d-flex bd-highlight">
            <!-- Edit Button -->
            <div class="p-2 flex-grow-1 bd-highlight text-end">
                <a href="{{ url_for('update', id=current_user.id)}}"><img src="../static/images/edit.webp" alt="Update" class="logo"></a>
            </div>
            <!-- Delete button - open modal -->
            <div class="p-2 bd-highlight">
                <button type="button" data-bs-toggle="modal" data-bs-target="#userDelete">
                    <img src="{{ url_for('static', filename='images/delete.webp') }}" alt="Delete" class="delete-button">
                </button>
            </div>
        </div>
    </div>
    

{% endblock %}